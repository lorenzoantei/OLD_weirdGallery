<html>

<!-- TO-DO
  * https://docs.google.com/document/d/1cGtF3P_ywNd4_zq2GI5YSzr47-K8BOoaUpjjRP0u1SQ/edit?usp=sharing
-->

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>weirdGallery</title>
  <link rel="icon" href="/public/favicon.ico" type="image/x-icon">

  <link href="/dist/output.css" rel="stylesheet"> <!-- tailwind -->
  <link rel="stylesheet" href="my.css">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Chilanka&display=swap" rel="stylesheet">



  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script> <!-- locale o server?-->


  <script> //script anchor link - thx https://stackoverflow.com/questions/49018866/need-help-creating-links-to-other-web-pages-in-aframe
    AFRAME.registerComponent('navigate-on-click', {
      schema: {
        url: { default: '' }
      },

      init: function () {
        var data = this.data;
        var el = this.el;

        el.addEventListener('click', function () {
          window.open(data.url);
          //window.location.href = data.url;
          //così apre una nuova finestra invece di sovrascrivere quella di weirdGallery
        });
      }
    });        
  </script>

</head>

<body>

  <div style="position:relative;">
    <a-scene vr-mode-ui="enabled: false">
      <!--fix FOG
  
      fog="type: linear; 
        near: 10; 
        far: 100"
      -->


      <a-assets id="la_texture_pavimento">
        <img id="nyan" src="/public/grayscale-nyan.png">
      </a-assets>

      <a-assets id="la_texture_colonna">
        <a-asset-item id="column-obj" src="/public/colonnaobj/Colonna_base.obj"></a-asset-item>
        <!--<a-asset-item id="column-mtl" src="/public/colonnaobj/Colonna_base.mtl"></a-asset-item>-->
      </a-assets>

      <a-sky material="
        color: gray;  
        side: back;  
        shader: flat;  
        npot: true;  
        offset: [object Object];  
        repeat: [object Object];  
        fog: false"
      ></a-sky>
      <!--gray sky? nicer to the eyes-->

      <a-box id="il_piano" 
        position="0 -0.8 0" 
        rotation="-90 0 0" 
        width="1" 
        height="200" 
        material="opacity: 0.65; 
          metalness: 0.7; 
          color: purple; 
          emissive: purple;
          src:#nyan;
          repeat: 10, 1000;"
      ></a-box> <!-- ora nyan texture, perchè? -->

      <a-entity id="l_elemento_metafisico" 
        geometry="primitive:icosahedron; radius:3.8" 
        position="6 2 -10"
        navigate-on-click="url: ./old.html"
        animation="property: rotation; to: 360 360 360; dir: reverse; loop: true; dur: 120000"
        material="opacity:1; metalness:0.8; color:white; blending:additive"
      > <!--dodecaedro o icosaedro?-->
        <a-entity 
          obj-model="obj: #column-obj;" 
          animation="property: rotation; to: 360 360 360; loop: true; dur: 90000"
          scale="0.15 0.15 0.15"
        ></a-entity> <!--si può fare anche con texture volendo - TODO trovare soluzione più leggera-->

      </a-entity>

      <a-camera 
        cursor="rayOrigin: mouse" 
        position="0 0 0"
      >

        <a-entity id="la_UI__progetto_corrente" 
          position="0 0 -0.01" 
          scale="0.004 0.004 0.004"
          material="transparent: true">
          <!-- ora trasparente -->

          <!--
    <a-plane 
      position="0 0 -0.01"
      material="opacity:0"
    >  navigate-on-click="url: https://www.youtube.com/watch?v=VNfmnOn5O3A" 
       </a-plane>-->

          <a-image id="il_progetto_corrente" 
            src="/public/bastet.svg" 
            position="0 0.5 0" 
            height="1" 
            width="0.6"
          >
            <a-plane id="il_pulsante_" 
              material="opacity:0" 
              navigate-on-click="url: https://www.reddit.com/"
            ></a-plane>
          </a-image>

          <a-text id="il_link_al_progetto" 
            position="0 -0.5 0" 
            text="
              value:{{ acquario.org }};
                color: white; 
                align: center;"
            >
              <a-plane id="il_pulsante_" 
                material="opacity:0" 
                width="1.8" 
                height="0.3"
                navigate-on-click="url: https://www.reddit.com/"
              >
          </a-text>

          <a-text id="l_artista" 
            position="0 -0.2 0" 
            text="
              value:{{ l'Artista }};
              color: white; 
              align: center;
              ">
            <a-plane id="il_pulsante_artista" 
              material="opacity:0;" 
              width="1.2" 
              height="0.3"
              navigate-on-click="url: https://www.youtube.com/watch?v=VNfmnOn5O3A"
            >
          </a-text> <!--working on piccolo elemento per attivare e disattivare vista di bastet e testo, a bit confused by js-->

        </a-entity>
      </a-camera>

      <a-light id="LUX__ambientale" light="type: ambient" position="0 0 0"></a-light>

      <!-- LUCI
      <a-entity
        light="
          type:ambient;
          intensity:0.1;
        "></a-entity>
      <a-entity
        light="
          type:directional;
          intensity: 0.1;
          distance:16"
          position="4 1 -10"
          rotation="0 0 0"
      ></a-entity>
    -->

    </a-scene>

    <div style="position:absolute; top:0px; left:0px; z-index:1000;">
      <p>overlay progetto corrente</p>
    </div>
  </div>
</body>

</html>